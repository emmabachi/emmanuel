<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

<header class="shadow">
    <div class="container-logo"> 
        <img src="portal.png" alt="">
    </div>
   
    <div>
        <button id="btn-dark-mode">dark mode</button>
    </div>
</header>

<section class="main-container">
    <p>Active Theory Team</p>
    <h1>Rick and Morty</h1>
    <span>Television & films / nominee</span>
</section>

<div class="search">
    <input class="shadow" type="text" placeholder="Buscar">
    <button>Buscar</button>
</div>

<section id="personajes" class="personajesdelcontainer">
</section>

<div>
    <button id="btn-load-more">
        cargar mas personajes
    </button>
</div>

<script>
    let info_pages = null

    function renderloader(){
        const contenedor = document.getElementById('personajes')
        const loader = document.createElement('div')
        loader.setAttribute('id','loader')
        loader.appendChild(document.createTextNode('cargando....'))
        contenedor.appendChild(loader)
    } 

    function hiddenloader(){
        const contenedor = document.getElementById('personajes')
        const loader = document.getElementById('loader')
        if (loader) contenedor.removeChild(loader)
    }
function obtener_personajes(page = 1) {
    const url = "https://rickandmortyapi.com/api/character?page=" + page;
    renderloader();

    fetch(url)
        .then(res => res.json())
        .then(response => {
            hiddenloader();

            const personajes = response.results;
            console.log('array', personajes); 

            const contenedor = document.getElementById('personajes');
            personajes.forEach(element => {
                const contenedor_personaje = document.createElement('div');
                const img = document.createElement('img');
                img.src = element.image;
                contenedor_personaje.appendChild(img);
                contenedor.appendChild(contenedor_personaje);
            });
        })
        .catch(err => {
            hiddenloader();
            console.log(err);
        });
}

 const darkmodebutton = document.getElementById('btn-dark-mode');
    function toggledarkmode() {
        document.body.classList.toggle('dark-mode');

        const btn = document.getElementById('btn-dark-mode');
        if (document.body.classList.contains('dark-mode')) {
            btn.textContent = 'light mode';
        } else {
            btn.textContent = 'dark mode';
        }
    }

    darkmodebutton.addEventListener('click', toggledarkmode);

    obtener_personajes()
</script>

</body>
</html>

